{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/apilaashyoharan/Documents/Waterloo-Guesser/components/Map.tsx"],"sourcesContent":["// Fetch floorplans and buildings from API\nimport React, { PropsWithChildren, useRef, useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  TransformWrapper,\n  TransformComponent,\n  ReactZoomPanPinchRef,\n} from \"react-zoom-pan-pinch\";\n\ninterface Floorplan {\n  _id: string;\n  filename: string;\n  image_base64: string;\n}\ninterface Building {\n  _id: string;\n  building: string;\n  x: number;\n  y: number;\n}\n\ninterface MapProps extends PropsWithChildren {\n  xCoor: number | null;\n  yCoor: number | null;\n  setXCoor: (value: number) => void;\n  setYCoor: (value: number) => void;\n  xRightCoor: number | null;\n  yRightCoor: number | null;\n  disabled?: boolean;\n  aspectRatio?: number; // width / height\n}\n\nexport default function Map(props: MapProps) {\n  // Helper to parse floor type from filename\n  function getFloorLabel(filename: string) {\n    // Match _B1FLR, _01FLR, _02FLR, _03FLR, _04FLR, _02FLR_MEZ, etc.\n    const match = filename.match(/_((B\\d|\\d{2})FLR)(?:_MEZ)?/i);\n    if (match) {\n      const code = match[1].toUpperCase();\n      if (filename.toUpperCase().includes('MEZ')) {\n        return 'Mezzanine';\n      }\n      if (code.startsWith('B')) {\n        // Basement\n        return `Basement ${code[1]}`;\n      } else {\n        // Floor number\n        const num = parseInt(code.slice(0,2), 10);\n        if (num === 1) return '1st Floor';\n        if (num === 2) return '2nd Floor';\n        if (num === 3) return '3rd Floor';\n        if (num === 4) return '4th Floor';\n        return `${num}th Floor`;\n      }\n    }\n    return 'Unknown';\n  }\n\n  // Helper to get building code from filename\n  function getBuildingCode(filename: string) {\n    // Match: 001DWE_01FLR.pdf, 002E2_01FLR.pdf, 005ML_01FLR.pdf, etc.\n    // Building code is after digits and before _\n    const match = filename.match(/^\\d+([A-Z0-9]+)_/i);\n    return match ? match[1] : 'UNKNOWN';\n  }\n  // Helper to clean floorplan filename to 'BUILDING Floor XX'\n  function getCleanFloorplanName(filename: string) {\n    // Example: 019SLC_02FLR_page1.png\n    // Extract building code (letters after first digits, before _)\n    // Extract floor number (digits after _ and before FLR)\n    const match = filename.match(/\\d+([A-Z]+)_([0-9]+)FLR/i);\n    if (match) {\n      const building = match[1];\n      const floor = match[2];\n      return `${building} Floor ${floor}`;\n    }\n    return filename;\n  }\n  // Helper to get building code prefix from filename\n  function entryCode(building: string) {\n    return building + \"_\";\n  }\n  const [floorplans, setFloorplans] = useState<Floorplan[]>([]);\n  const [buildings, setBuildings] = useState<Building[]>([]);\n  const mapImgRef = useRef<HTMLImageElement>(null);\n  const [modalImg, setModalImg] = useState<string | null>(null);\n  const zoomOffsetX = useRef(0);\n  const zoomOffsetY = useRef(0);\n  const zoomScale = useRef(1);\n  const [activeBuilding, setActiveBuilding] = useState<string | null>(null);\n  const hideDropdownTimeout = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    fetch(\"/api/floorplans\")\n      .then(res => res.json())\n      .then(data => {\n        setFloorplans(data.floorplans || []);\n        setBuildings(data.buildings || []);\n      });\n  }, []);\n\n  function getDotSize() {\n    const img = mapImgRef.current;\n    if (!img) return 12; // fallback\n    if (props.aspectRatio) {\n      const base = 14;\n      const scale = Math.sqrt(props.aspectRatio);\n      return Math.max(8, Math.min(20, base * scale));\n    }\n    const minDim = Math.min(img.clientWidth, img.clientHeight);\n    return Math.max(8, Math.min(20, minDim * 0.025));\n  }\n\n  function handleClick(event: React.MouseEvent<HTMLImageElement>) {\n    if (props.disabled) return;\n    const img = event.currentTarget as HTMLImageElement;\n    const x = event.nativeEvent.offsetX / img.clientWidth;\n    const y = event.nativeEvent.offsetY / img.clientHeight;\n    props.setXCoor(x);\n    props.setYCoor(y);\n  }\n\n  const lineStyle = () => {\n    if (\n      props.xCoor != null &&\n      props.yCoor != null &&\n      props.xRightCoor != null &&\n      props.yRightCoor != null\n    ) {\n      const parent = document.querySelector(\".MapPicture\");\n      if (!parent) return {};\n      const parentWidth = parent.clientWidth;\n      const parentHeight = parent.clientHeight;\n      const x1 = props.xCoor * parentWidth;\n      const y1 = props.yCoor * parentHeight;\n      const x2 = props.xRightCoor * parentWidth;\n      const y2 = props.yRightCoor * parentHeight;\n      const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n      const angle = Math.atan2(y2 - y1, x2 - x1) * (180 / Math.PI);\n      return {\n        position: \"absolute\" as const,\n        top: `${y1}px`,\n        left: `${x1}px`,\n        width: `${length}px`,\n        transform: `rotate(${angle}deg) translate(0, -50%)`,\n        transformOrigin: \"0 0\",\n        height: \"1.5px\",\n        backgroundColor: \"black\",\n      };\n    }\n    return {};\n  };\n\n  function handleZoom(ref: ReactZoomPanPinchRef, _: any) {\n    zoomOffsetX.current = -ref.state.positionX;\n    zoomOffsetY.current = -ref.state.positionY;\n    zoomScale.current = ref.state.scale;\n  }\n\n  function handlePan(ref: ReactZoomPanPinchRef, _: any) {\n    zoomOffsetX.current = -ref.state.positionX;\n    zoomOffsetY.current = -ref.state.positionY;\n    zoomScale.current = ref.state.scale;\n  }\n\n  return (\n    <>\n      <div className=\"w-full h-full bg-gray-50\" style={{position: \"relative\"}}>\n        <TransformWrapper onPanningStop={handlePan} onZoomStop={handleZoom}>\n          <TransformComponent>\n            <div onClick={handleClick} className=\"w-full h-full cursor-crosshair relative\">\n              <img\n                ref={mapImgRef}\n                className=\"MapPicture w-full h-full select-none\"\n                src=\"/uw campus map.png\"\n                alt=\"Campus Map\"\n                draggable={false}\n                style={{ width: \"100%\", height: \"100%\", objectFit: \"cover\", display: \"block\", pointerEvents: \"auto\" }}\n              />\n              {/*\n              Invisible interactive circles for each building from DB\n              {buildings.map((entry) => {\n                // Remove highlight/border for active building\n                return (\n                  <div\n                    key={entry._id}\n                    style={{\n                      position: \"absolute\",\n                      top: `${entry.y * 100}%`,\n                      left: `${entry.x * 100}%`,\n                      width: `${getDotSize()}px`,\n                      height: `${getDotSize()}px`,\n                      borderRadius: \"50%\",\n                      background: \"rgba(255, 255, 0, 0.5)\",\n                      border: \"none\",\n                      cursor: \"pointer\",\n                      transform: \"translate(-50%, -50%)\",\n                      zIndex: 20,\n                    }}\n                    title={entry.building}\n                    onClick={e => {\n                      e.stopPropagation();\n                      setActiveBuilding(entry.building);\n                    }}\n                  />\n                );\n              })}\n              */}\n              {props.xCoor != null &&\n                props.yCoor != null &&\n                props.xRightCoor != null &&\n                props.yRightCoor != null && (\n                  <div style={lineStyle()}></div>\n                )}\n              {props.xCoor != null && props.yCoor != null && (\n                <div\n                  style={{\n                    top: `${(props.yCoor as number) * 100}%`,\n                    left: `${(props.xCoor as number) * 100}%`,\n                    position: \"absolute\",\n                    width: \"3px\",\n                    height: \"3px\",\n                    borderRadius: \"50%\",\n                    backgroundColor: \"red\",\n                    pointerEvents: \"none\",\n                    transform: \"translate(-50%, -50%)\",\n                  }}\n                  className=\"z-10\"\n                ></div>\n              )}\n              {props.xRightCoor != null && props.yRightCoor != null && (\n                <div\n                  style={{\n                    top: `${(props.yRightCoor as number) * 100}%`,\n                    left: `${(props.xRightCoor as number) * 100}%`,\n                    position: \"absolute\",\n                    width: \"3px\",\n                    height: \"3px\",\n                    borderRadius: \"50%\",\n                    backgroundColor: \"limegreen\",\n                    pointerEvents: \"none\",\n                    transform: \"translate(-50%, -50%)\",\n                  }}\n                  className=\"z-10\"\n                ></div>\n              )}\n              {props.children}\n            </div>\n          </TransformComponent>\n        </TransformWrapper>\n        {/*\n        Dropdown for floorplans of active building (positioned beside yellow circle)\n        {activeBuilding && (() => {\n          // Find the active building's coordinates\n          const building = buildings.find(b => b.building === activeBuilding);\n          if (!building) return null;\n          // Get parent map container size\n          const parent = mapImgRef.current;\n          let leftPx = 0, topPx = 0;\n          if (parent) {\n            leftPx = building.x * parent.clientWidth;\n            topPx = building.y * parent.clientHeight;\n          }\n          // Offset to the right of the circle\n          const offsetX = 24; // px\n          return (\n            <div\n              style={{\n                position: \"absolute\",\n                left: leftPx + offsetX,\n                top: topPx,\n                background: \"#fff\",\n                borderRadius: 8,\n                boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n                padding: 12,\n                zIndex: 1000,\n                minWidth: 220,\n                maxWidth: 320,\n                maxHeight: 320,\n                overflowY: \"auto\",\n                transform: \"translateY(-50%)\"\n              }}\n            >\n              <div style={{fontWeight: \"bold\", marginBottom: 8}}>{activeBuilding}</div>\n              {(() => {\n                // Get all floorplans for this building\n                const plans = floorplans.filter(fp => getBuildingCode(fp.filename) === activeBuilding);\n                if (plans.length === 0) return <div style={{color: \"#888\"}}>No floorplans found.</div>;\n                // Get unique floor labels\n                const uniqueFloors = Array.from(new Set(plans.map(fp => getFloorLabel(fp.filename))));\n                // Sort: regular floors (descending), basements (ascending, last)\n                uniqueFloors.sort((a, b) => {\n                  const isBasementA = a.startsWith('Basement');\n                  const isBasementB = b.startsWith('Basement');\n                  if (!isBasementA && !isBasementB) {\n                    // Descending regular floor order (3rd, 2nd, 1st)\n                    const numA = parseInt(a.match(/\\d+/)?.[0] || '0', 10);\n                    const numB = parseInt(b.match(/\\d+/)?.[0] || '0', 10);\n                    return numB - numA;\n                  }\n                  if (isBasementA && isBasementB) {\n                    // Ascending basement order (Basement 1, Basement 2)\n                    const numA = parseInt(a.match(/\\d+/)?.[0] || '0', 10);\n                    const numB = parseInt(b.match(/\\d+/)?.[0] || '0', 10);\n                    return numA - numB;\n                  }\n                  // Basements always last\n                  if (isBasementA) return 1;\n                  if (isBasementB) return -1;\n                  return 0;\n                });\n                return uniqueFloors.map(floorLabel => (\n                  <div\n                    key={floorLabel}\n                    style={{\n                      padding: \"6px 0\",\n                      borderBottom: \"1px solid #eee\",\n                      cursor: \"pointer\"\n                    }}\n                    onClick={() => {\n                      // Find first matching plan for this floor\n                      const plan = plans.find(fp => getFloorLabel(fp.filename) === floorLabel);\n                      if (plan) setModalImg(`data:image/png;base64,${plan.image_base64}`);\n                    }}\n                  >\n                    {floorLabel}\n                  </div>\n                ));\n              })()}\n              <button\n                style={{marginTop: 8, background: \"#eee\", border: \"none\", borderRadius: 4, padding: \"4px 12px\", cursor: \"pointer\"}}\n                onClick={() => setActiveBuilding(null)}\n              >Close</button>\n            </div>\n          );\n        })()}\n        */}\n      </div>\n      {/* Modal for PNG floorplan (portal) */}\n      {/* {modalImg && ReactDOM.createPortal(\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: \"100vw\",\n            height: \"100vh\",\n            background: \"rgba(0,0,0,0.6)\",\n            zIndex: 9999,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n          }}\n          onClick={() => setModalImg(null)}\n        >\n          <div\n            style={{\n              background: \"#fff\",\n              borderRadius: 12,\n              boxShadow: \"0 2px 16px rgba(0,0,0,0.25)\",\n              padding: 16,\n              maxWidth: \"90vw\",\n              maxHeight: \"90vh\",\n              position: \"relative\"\n            }}\n            onClick={e => e.stopPropagation()}\n          >\n            <button\n              style={{\n                position: \"absolute\",\n                top: 8,\n                right: 8,\n                background: \"#f44\",\n                color: \"#fff\",\n                border: \"none\",\n                borderRadius: 6,\n                padding: \"6px 12px\",\n                fontWeight: \"bold\",\n                cursor: \"pointer\",\n                zIndex: 10001\n              }}\n              onClick={() => setModalImg(null)}\n            >Close</button>\n            <img\n              src={modalImg}\n              alt=\"Floorplan\"\n              style={{\n                maxWidth: \"80vw\",\n                maxHeight: \"80vh\",\n                display: \"block\",\n                borderRadius: 8\n              }}\n            />\n          </div>\n        </div>,\n        document.body\n      )} */}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/apilaashyoharan/Documents/Waterloo-Guesser/components/ManualDotPlacer.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\n\ntype Dot = { x: number; y: number; building: string };\ntype PendingDot = { x: number; y: number } | null;\ntype BuildingFloors = Record<string, Array<{ filename: string; floor: string }>>;\n\nconst campusMapUrl = \"/uw campus map.png\";\n\nexport default function ManualDotPlacer() {\n  const [dots, setDots] = useState<Dot[]>([]);\n  const [pendingDot, setPendingDot] = useState<PendingDot>(null);\n  const [buildingCode, setBuildingCode] = useState(\"\");\n  const [buildingFloors, setBuildingFloors] = useState<BuildingFloors>({});\n\n  useEffect(() => {\n    fetch(\"/api/floorplans\")\n      .then(res => res.json())\n      .then(data => {\n        // Group floorplans by building\n        const floors: BuildingFloors = {};\n        if (data.floorplans) {\n          data.floorplans.forEach((fp: any) => {\n            if (!fp.building || fp.building === \"UNKNOWN\") return;\n            if (!floors[fp.building]) floors[fp.building] = [];\n            floors[fp.building].push({ filename: fp.filename, floor: fp.floor });\n          });\n        }\n        setBuildingFloors(floors);\n      });\n  }, []);\n\n  // Use right-click (contextmenu) to place dot (attach to parent div)\n  function handleMapContextMenu(e: React.MouseEvent<HTMLDivElement>) {\n    e.preventDefault();\n    const img = e.currentTarget.querySelector(\"img\");\n    if (!img) return;\n    const rect = img.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width;\n    const y = (e.clientY - rect.top) / rect.height;\n    if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {\n      setPendingDot({ x, y });\n      setBuildingCode(\"\");\n    }\n  }\n\n  // Save dot with code\n  function handleSaveDot() {\n    if (!buildingCode.trim() || !pendingDot) return;\n    setDots([...dots, { x: pendingDot.x, y: pendingDot.y, building: buildingCode.trim() }]);\n    setPendingDot(null);\n    setBuildingCode(\"\");\n  }\n\n  // Drag logic\n  const dragDotIndex = useRef<number | null>(null);\n  const dragOffset = useRef<{ x: number; y: number } | null>(null);\n\n  function handleDotMouseDown(e: React.MouseEvent<HTMLDivElement>, i: number) {\n    e.stopPropagation();\n    dragDotIndex.current = i;\n    const rect = (e.currentTarget.parentElement as HTMLDivElement).getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width;\n    const y = (e.clientY - rect.top) / rect.height;\n    dragOffset.current = { x: x - dots[i].x, y: y - dots[i].y };\n    document.addEventListener(\"mousemove\", handleDotMouseMove);\n    document.addEventListener(\"mouseup\", handleDotMouseUp);\n  }\n\n  function handleDotMouseMove(e: MouseEvent) {\n    if (dragDotIndex.current === null || dragOffset.current === null) return;\n    const container = document.getElementById(\"dot-map-container\");\n    if (!container) return;\n    const rect = container.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width - dragOffset.current.x;\n    const y = (e.clientY - rect.top) / rect.height - dragOffset.current.y;\n    setDots(prev => prev.map((dot, idx) => idx === dragDotIndex.current ? { ...dot, x: Math.max(0, Math.min(1, x)), y: Math.max(0, Math.min(1, y)) } : dot));\n  }\n\n  function handleDotMouseUp() {\n    dragDotIndex.current = null;\n    dragOffset.current = null;\n    document.removeEventListener(\"mousemove\", handleDotMouseMove);\n    document.removeEventListener(\"mouseup\", handleDotMouseUp);\n  }\n\n  function handleDeleteDot(i: number) {\n    setDots(prev => prev.filter((_, idx) => idx !== i));\n  }\n\n  // Export JSON\n  function handleExport() {\n    const json = JSON.stringify(dots, null, 2);\n    const blob = new Blob([json], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"manual_building_lookup.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  return (\n    <div style={{ width: \"100vw\", height: \"100vh\", background: \"#f8f8f8\" }}>\n      <div style={{ display: \"flex\", alignItems: \"center\", margin: 8 }}>\n        <h2 style={{ margin: 0, marginRight: 16 }}>Manual Building Dot Placer</h2>\n        <button onClick={handleExport} style={{ fontSize: 16, padding: \"8px 16px\" }}>Export JSON</button>\n        <span style={{ marginLeft: 16, color: \"#888\" }}>Dots placed: {dots.length}</span>\n      </div>\n      <div id=\"dot-map-container\" style={{ position: \"relative\", width: \"80vw\", height: \"80vh\", margin: \"auto\" }}>\n        <TransformWrapper>\n          <TransformComponent>\n            <div\n              style={{ position: \"relative\", width: \"100%\", height: \"100%\" }}\n              onContextMenu={handleMapContextMenu}\n            >\n              <img\n                src={campusMapUrl}\n                alt=\"Campus Map\"\n                style={{ width: \"100%\", height: \"100%\", objectFit: \"contain\", display: \"block\" }}\n              />\n              {/* Render placed dots */}\n              {dots.map((dot, i) => {\n                const [hovered, setHovered] = useState(false);\n                // Use a wrapper to allow hover state per dot\n                return (\n                  <div\n                    key={i}\n                    style={{\n                      position: \"absolute\",\n                      top: `${dot.y * 100}%`,\n                      left: `${dot.x * 100}%`,\n                      width: 21,\n                      height: 21,\n                      borderRadius: \"50%\",\n                      background: \"yellow\",\n                      border: \"2px solid #888\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\",\n                      transform: \"translate(-50%, -50%)\",\n                      zIndex: 10,\n                      fontWeight: \"bold\",\n                      color: \"#222\",\n                      fontSize: 12,\n                      cursor: \"grab\",\n                      userSelect: \"none\"\n                    }}\n                    title={dot.building}\n                    onMouseDown={e => handleDotMouseDown(e, i)}\n                    onMouseEnter={() => setHovered(true)}\n                    onMouseLeave={() => setHovered(false)}\n                  >\n                    {dot.building}\n                    <button\n                      onClick={ev => { ev.stopPropagation(); handleDeleteDot(i); }}\n                      style={{\n                        position: \"absolute\",\n                        top: -10,\n                        right: -10,\n                        width: 18,\n                        height: 18,\n                        borderRadius: \"50%\",\n                        background: \"#f44\",\n                        color: \"#fff\",\n                        border: \"none\",\n                        fontSize: 12,\n                        cursor: \"pointer\",\n                        zIndex: 20\n                      }}\n                      title=\"Delete dot\"\n                    >Ã—</button>\n                    {/* Dropdown with floor buttons on hover */}\n                    {hovered && buildingFloors[dot.building] && (\n                      <div\n                        style={{\n                          position: \"absolute\",\n                          top: \"50%\",\n                          left: \"110%\",\n                          transform: \"translateY(-50%)\",\n                          background: \"#fff\",\n                          border: \"1px solid #ccc\",\n                          borderRadius: \"6px\",\n                          boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n                          padding: \"6px 12px\",\n                          minWidth: \"60px\",\n                          zIndex: 30,\n                          pointerEvents: \"auto\",\n                          whiteSpace: \"nowrap\"\n                        }}\n                      >\n                        {buildingFloors[dot.building].map((floorObj: { filename: string; floor: string }) => (\n                          <button\n                            key={floorObj.filename}\n                            style={{\n                              display: \"block\",\n                              width: \"100%\",\n                              margin: \"2px 0\",\n                              padding: \"4px 8px\",\n                              fontSize: \"12px\",\n                              background: \"#eee\",\n                              border: \"1px solid #bbb\",\n                              borderRadius: \"4px\",\n                              cursor: \"pointer\",\n                              textAlign: \"left\"\n                            }}\n                            onClick={() => window.open(`/clean_floorplans/${floorObj.filename}`, \"_blank\")}\n                          >\n                            {floorObj.floor.replace(\"FLR\", \"\")}\n                          </button>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n              {/* Pending dot input */}\n              {pendingDot && (\n                <div\n                  style={{\n                    position: \"absolute\",\n                    top: `${pendingDot.y * 100}%`,\n                    left: `${pendingDot.x * 100}%`,\n                    transform: \"translate(-50%, -120%)\",\n                    zIndex: 20,\n                    background: \"#fff\",\n                    border: \"1px solid #ccc\",\n                    borderRadius: 8,\n                    padding: 12,\n                    boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n                    minWidth: 120\n                  }}\n                >\n                  <div style={{ marginBottom: 8 }}>\n                    <label>Building Code: </label>\n                    <input\n                      type=\"text\"\n                      value={buildingCode}\n                      onChange={e => setBuildingCode(e.target.value)}\n                      style={{ width: 60, fontWeight: \"bold\" }}\n                      autoFocus\n                    />\n                  </div>\n                  <button onClick={handleSaveDot} style={{ marginRight: 8 }}>Save</button>\n                  <button onClick={() => setPendingDot(null)}>Cancel</button>\n                </div>\n              )}\n            </div>\n          </TransformComponent>\n        </TransformWrapper>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 688, "column": 0}, "map": {"version":3,"sources":["file:///Users/apilaashyoharan/Documents/Waterloo-Guesser/components/LocationUploader.tsx"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport Map from \"./Map\";\nimport ManualDotPlacer from \"./ManualDotPlacer\";\n\n// This page can be placed in app/upload/page.tsx for Next.js routing\n// and will be accessible at /upload\nexport default function LocationUploader() {\n  // Secret passcode popup logic\n  const [showPasscode, setShowPasscode] = useState(false);\n  const [passcode, setPasscode] = useState(\"\");\n  const secretSequence = \"qwertyuiop\";\n  const [typedKeys, setTypedKeys] = useState(\"\");\n  // Get passcode from env (client-side)\n  let envPasscode = '';\n  if (typeof window !== 'undefined') {\n    // @ts-ignore\n    envPasscode = process.env.NEXT_PUBLIC_PASSCODE;\n  }\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      setTypedKeys((prev) => {\n        const next = (prev + e.key).slice(-secretSequence.length);\n        if (next === secretSequence) {\n          setShowPasscode(true);\n        }\n        return next;\n      });\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, []);\n  const [imageFile, setImageFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const [xCoor, setXCoor] = useState<number | null>(null);\n  const [yCoor, setYCoor] = useState<number | null>(null);\n  const [uploading, setUploading] = useState(false);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [toast, setToast] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (success) {\n      setToast(success);\n      const timer = setTimeout(() => setToast(null), 2500);\n      return () => clearTimeout(timer);\n    }\n    if (error) {\n      setToast(error);\n      const timer = setTimeout(() => setToast(null), 2500);\n      return () => clearTimeout(timer);\n    }\n  }, [success, error]);\n  const [name, setName] = useState(\"\");\n  const [building, setBuilding] = useState(\"\");\n  const [latitude, setLatitude] = useState(\"\");\n  const [longitude, setLongitude] = useState(\"\");\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0] || null;\n    setImageFile(file);\n    setSuccess(null);\n    setError(null);\n    if (file) {\n      setPreviewUrl(URL.createObjectURL(file));\n    } else {\n      setPreviewUrl(null);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!imageFile || xCoor == null || yCoor == null || !building) {\n      setError(\"Please fill all fields, select an image, and location on the map.\");\n      return;\n    }\n    setUploading(true);\n    setError(null);\n    setSuccess(null);\n    try {\n      const formData = new FormData();\n      formData.append(\"image\", imageFile);\n      formData.append(\"xCoordinate\", String(xCoor));\n      formData.append(\"yCoordinate\", String(yCoor));\n      formData.append(\"name\", name);\n      formData.append(\"building\", building);\n      formData.append(\"latitude\", latitude);\n      formData.append(\"longitude\", longitude);\n      // Determine status based on passcode\n      let status = \"needs approval\";\n      let devToast = false;\n      if (showPasscode && passcode === envPasscode) {\n        status = \"approved\";\n        devToast = true;\n      }\n      formData.append(\"status\", status);\n      const res = await fetch(\"api/uploadLocation\", {\n        method: \"POST\",\n        body: formData,\n      });\n      if (res.ok) {\n        setSuccess(\"Location uploaded successfully!\");\n        if (devToast) {\n          setToast(\"Welcome devs!\");\n          setTimeout(() => setToast(null), 2500);\n        }\n        setImageFile(null);\n        setPreviewUrl(null);\n        setXCoor(null);\n        setYCoor(null);\n        setName(\"\");\n        setBuilding(\"\");\n        setLatitude(\"\");\n        setLongitude(\"\");\n        setPasscode(\"\");\n        setShowPasscode(false);\n      } else {\n        setError(\"Upload failed.\");\n      }\n    } catch (err) {\n      setError(\"Error uploading location.\");\n    }\n    setUploading(false);\n  };\n\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4\">\n      {/* Passcode Popup */}\n      {showPasscode && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-lg p-8 flex flex-col items-center\">\n            <h2 className=\"text-xl font-bold mb-4\">Enter Passcode</h2>\n            <input\n              type=\"password\"\n              value={passcode}\n              onChange={e => setPasscode(e.target.value)}\n              className=\"border rounded px-4 py-2 mb-4 text-lg\"\n              autoFocus\n            />\n            <div className=\"flex gap-4\">\n              <button\n                className=\"px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700\"\n                onClick={() => setShowPasscode(false)}\n              >\n                Close\n              </button>\n              <button\n                className=\"px-4 py-2 bg-green-600 text-white rounded shadow hover:bg-green-700\"\n                onClick={() => {\n                  if (passcode === envPasscode) {\n                    setToast(\"Welcome devs!\");\n                    setTimeout(() => setToast(null), 2500);\n                    setShowPasscode(false);\n                  } else {\n                    setToast(\"Incorrect passcode\");\n                    setTimeout(() => setToast(null), 2500);\n                  }\n                }}\n              >\n                Submit\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      <form className=\"w-full max-w-lg bg-white rounded-lg shadow-md p-6 flex flex-col gap-4\" onSubmit={handleSubmit}>\n        {toast && (\n          <div className={`fixed top-6 right-6 z-50 px-6 py-3 rounded-lg shadow font-bold text-white ${toast === success ? 'bg-green-600' : 'bg-red-600'}`}>{toast}</div>\n        )}\n        {/* ...existing code... */}\n        <h2 className=\"text-2xl font-bold mb-2 text-gray-800\">Upload Campus Location</h2>\n        <label className=\"block font-medium text-gray-700\">Image File</label>\n        <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} className=\"mb-2\" />\n        <label className=\"block font-medium text-gray-700\">Building</label>\n        <input type=\"text\" value={building} onChange={e => setBuilding(e.target.value)} required className=\"border rounded px-3 py-2 mb-2\" />\n        {previewUrl && (\n          <img src={previewUrl} alt=\"Preview\" className=\"max-w-xs rounded shadow mb-2\" />\n        )}\n        <div className=\"flex items-center justify-center w-full\" style={{ width: \"100%\", margin: 0, padding: 0 }}>\n          <div style={{ width: \"90vw\", maxWidth: 1200, aspectRatio: \"896/683\", position: \"relative\", background: \"#eaeaea\", borderRadius: 12, overflow: \"hidden\", margin: 0, padding: 0 }}>\n            <Map\n              xCoor={xCoor}\n              yCoor={yCoor}\n              setXCoor={setXCoor}\n              setYCoor={setYCoor}\n              xRightCoor={null}\n              yRightCoor={null}\n              aspectRatio={0.25}\n            />\n          </div>\n          {/* {xCoor != null && yCoor != null && (\n            <div className=\"mt-2 text-sm text-gray-700\">Selected Coordinates: ({xCoor.toFixed(4)}, {yCoor.toFixed(4)})</div>\n          )} */}\n        </div>\n        <button type=\"submit\" disabled={uploading} className=\"px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700 disabled:opacity-50\">\n          {uploading ? \"Uploading...\" : \"Submit Location\"}\n        </button>\n        {success && <div className=\"text-green-600 font-semibold\">{success}</div>}\n        {error && <div className=\"text-red-600 font-semibold\">{error}</div>}\n      </form>\n      {/* Show ManualDotPlacer if passcode is correct and popup is closed */}\n      {passcode === envPasscode && !showPasscode && (\n        <div style={{ width: \"100%\", maxWidth: 1000, margin: \"32px auto 0 auto\" }}>\n          <ManualDotPlacer />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1088, "column": 0}, "map": {"version":3,"sources":["file:///Users/apilaashyoharan/Documents/Waterloo-Guesser/components/GamePage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport Map from \"./Map\";\nimport LocationUploader from \"./LocationUploader\";\n\nexport default function GamePage() {\n  const [showUploader, setShowUploader] = useState(false);\n  const [transformReady, setTransformReady] = useState(false);\n  interface State {\n    image?: string;\n    id?: String;\n  }\n\n  const [totalPoints, setTotalPoints] = useState(0);\n  const [imageIDs, setImageIDs] = useState<string[]>([]);\n  const [questionCount, setQuestionCount] = useState(0);\n  const [state, setState] = useState<State>({});\n  const [setupDone, setSetupDone] = useState(false);\n  const [xCoor, setXCoor] = useState<number | null>(null);\n  const [yCoor, setYCoor] = useState<number | null>(null);\n  const [xRightCoor, setXRightCoor] = useState<number | null>(null);\n  const [yRightCoor, setYRightCoor] = useState<number | null>(null);\n  const [imgOpacity, setImgOpacity] = useState(0.8);\n  const hovering = useRef(false);\n\n  const requestingImage = useRef(false);\n  function requestImage() {\n    if (requestingImage.current) return;\n    requestingImage.current = true;\n    fetch(`/api/getPhoto`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        mode: \"no-cors\",\n      },\n      body: JSON.stringify({\n        previousCodes: imageIDs,\n      }),\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        if (imageIDs.includes(json.id)) {\n          setImageIDs([json.id]);\n        } else {\n          setImageIDs([...imageIDs, json.id]);\n        }\n        setState(json);\n        setXCoor(null);\n        setYCoor(null);\n        setXRightCoor(null);\n        setYRightCoor(null);\n        requestingImage.current = false;\n      });\n  }\n\n  const validatingCoordinate = useRef(false);\n  const mapContainerRef = useRef<HTMLDivElement>(null);\n\n  function zoomToGuessAndAnswer() {\n    const parent = mapContainerRef.current;\n    if (\n      !parent ||\n      xCoor == null ||\n      yCoor == null ||\n      xRightCoor == null ||\n      yRightCoor == null\n    )\n      return;\n    const parentWidth = parent.clientWidth;\n    const parentHeight = parent.clientHeight;\n    let topleftX = (Math.min(xCoor, xRightCoor) - 0.05) * parentWidth;\n    let topleftY = (Math.min(yCoor, yRightCoor) - 0.05) * parentHeight;\n    const bottomrightX = (Math.max(xCoor, xRightCoor) + 0.05) * parentWidth;\n    const bottomrightY = (Math.max(yCoor, yRightCoor) + 0.05) * parentHeight;\n    const scaleX = (bottomrightX - topleftX) / parentWidth;\n    const scaleY = (bottomrightY - topleftY) / parentHeight;\n    const scale = 1 / Math.max(scaleX, scaleY);\n    // Center the viewport\n    if (scaleX > scaleY) {\n      topleftY = (topleftY + bottomrightY) / 2 - parentHeight / scale / 2;\n    } else {\n      topleftX = (topleftX + bottomrightX) / 2 - parentWidth / scale / 2;\n    }\n    // Scroll the parent div to the calculated position\n    parent.scrollTo({\n      left: Math.max(0, -topleftX * scale),\n      top: Math.max(0, -topleftY * scale),\n      behavior: \"smooth\",\n    });\n  }\n\n  function validateCoordinate() {\n    if (validatingCoordinate.current) return;\n    validatingCoordinate.current = true;\n    fetch(`/api/validateCoordinate`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        xCoor: xCoor,\n        yCoor: yCoor,\n        id: state.id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        setXRightCoor(json.xCoor);\n        setYRightCoor(json.yCoor);\n        setTotalPoints(totalPoints + json.points);\n        setQuestionCount(questionCount + 1);\n        validatingCoordinate.current = false;\n        // Zoom and pan to show both dots\n        zoomToGuessAndAnswer();\n      });\n  }\n\n  useEffect(() => {\n    if (setupDone) return;\n    setSetupDone(true);\n    requestImage();\n  }, []);\n\n  return (\n    <div className=\"fixed inset-0 flex items-center justify-center bg-gray-50 overflow-hidden\">\n      <button\n        className=\"absolute top-4 right-4 z-50 px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700\"\n        onClick={() => setShowUploader((v) => !v)}\n      >\n        {showUploader ? \"Back to Game\" : \"Add Location\"}\n      </button>\n      {showUploader ? (\n        <LocationUploader />\n      ) : (\n        <div className=\"relative flex flex-col items-center justify-center w-full h-full\">\n          <div className=\"absolute top-4 left-4\">\n            <h1 className=\"text-xl font-bold text-gray-800 bg-white/80 rounded px-4 py-2 shadow\">\n              Points: {totalPoints}\n            </h1>\n          </div>\n          <div className=\"absolute top-4 right-4 z-50\">\n            <button\n              className=\"px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700\"\n              onClick={() => setShowUploader((v) => !v)}\n            >\n              {showUploader ? \"Back to Game\" : \"Add Location\"}\n            </button>\n          </div>\n          <div className=\"flex items-center justify-center w-full h-full\">\n            <div\n              ref={mapContainerRef}\n              className=\"flex items-center justify-center w-full h-full max-w-4xl max-h-[80vh] mx-auto my-auto bg-white rounded shadow-lg overflow-hidden relative\"\n            >\n              <Map\n                xCoor={xCoor}\n                yCoor={yCoor}\n                setXCoor={\n                  xRightCoor == null && yRightCoor == null ? setXCoor : () => {}\n                }\n                setYCoor={\n                  xRightCoor == null && yRightCoor == null ? setYCoor : () => {}\n                }\n                xRightCoor={xRightCoor}\n                yRightCoor={yRightCoor}\n                disabled={xRightCoor != null && yRightCoor != null}\n                aspectRatio={0.7 * (896 / 683)}\n              />\n              <div className=\"absolute top-4 right-4 z-50\">\n                <button\n                  className=\"px-4 py-2 bg-green-600 text-white rounded shadow hover:bg-green-700\"\n                  onClick={() => {\n                    return xRightCoor == null || yRightCoor == null\n                      ? validateCoordinate()\n                      : requestImage();\n                  }}\n                >\n                  {xRightCoor == null || yRightCoor == null ? \"Submit\" : \"Next\"}\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"absolute bottom-4 right-4 flex justify-end items-start w-full\">\n            <img\n              className=\"rounded shadow opacity-80 hover:opacity-100 transition-opacity duration-300\"\n              src={state.image}\n              style={{\n                maxWidth: 400,\n                marginRight: 20,\n                zIndex: 99999,\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1353, "column": 0}, "map": {"version":3,"sources":["file:///Users/apilaashyoharan/Documents/Waterloo-Guesser/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport GamePage from '../components/GamePage';\n\nexport default function Home() {\n  return <GamePage />;\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBAAO,6LAAC,0HAAA,CAAA,UAAQ;;;;;AAClB;KAFwB","debugId":null}}]
}