exports.id=236,exports.ids=[236],exports.modules={213:()=>{},343:(a,b,c)=>{"use strict";c.d(b,{default:()=>i});var d=c(687),e=c(5773),f=c(3210),g=c(474),h=c(5677);function i(){let a=(0,e.useRouter)(),[b,c]=(0,f.useState)(!1),[i,j]=(0,f.useState)(""),[k,l]=(0,f.useState)(null),[m,n]=(0,f.useState)(null),[o,p]=(0,f.useState)(null),[q,r]=(0,f.useState)(null),[s,t]=(0,f.useState)(!1),[u,v]=(0,f.useState)(null),[w,x]=(0,f.useState)(null),[y,z]=(0,f.useState)(null),[A,B]=(0,f.useState)(""),[C,D]=(0,f.useState)(""),[E,F]=(0,f.useState)(""),[G,H]=(0,f.useState)(""),I=async a=>{if(a.preventDefault(),!k||null==o||null==q||!C)return void x("Please fill all fields, select an image, and location on the map.");t(!0),x(null),v(null);try{let a=new FormData;a.append("image",k),a.append("xCoordinate",String(o)),a.append("yCoordinate",String(q)),a.append("name",A),a.append("building",C),a.append("latitude",E),a.append("longitude",G);let d="needs approval",e=!1;b&&""===i&&(d="approved",e=!0),a.append("status",d),(await fetch("api/uploadLocation",{method:"POST",body:a})).ok?(v("Location uploaded successfully!"),e&&(z("Welcome devs!"),setTimeout(()=>z(null),2500)),l(null),n(null),p(null),r(null),B(""),D(""),F(""),H(""),j(""),c(!1)):x("Upload failed.")}catch{x("Error uploading location.")}t(!1)};return(0,d.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:[b&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 flex flex-col items-center",children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Enter Passcode"}),(0,d.jsx)("input",{type:"password",value:i,onChange:a=>j(a.target.value),className:"border rounded px-4 py-2 mb-4 text-lg",autoFocus:!0}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700",onClick:()=>c(!1),children:"Close"}),(0,d.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded shadow hover:bg-green-700",onClick:()=>{""===i?(z("Welcome devs!"),setTimeout(()=>z(null),2500),a.push("/manual-dot-placer"),c(!1)):(z("Incorrect passcode"),setTimeout(()=>z(null),2500))},children:"Submit"})]})]})}),(0,d.jsxs)("form",{className:"w-full max-w-lg bg-white rounded-lg shadow-md p-6 flex flex-col gap-4",onSubmit:I,children:[y&&(0,d.jsx)("div",{className:`fixed top-6 right-6 z-50 px-6 py-3 rounded-lg shadow font-bold text-white ${y===u?"bg-green-600":"bg-red-600"}`,children:y}),(0,d.jsx)("h2",{className:"text-2xl font-bold mb-2 text-gray-800",children:"Upload Campus Location"}),(0,d.jsx)("label",{className:"block font-medium text-gray-700",children:"Image File"}),(0,d.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0]||null;l(b),v(null),x(null),b?n(URL.createObjectURL(b)):n(null)},className:"mb-2"}),(0,d.jsx)("label",{className:"block font-medium text-gray-700",children:"Building"}),(0,d.jsx)("input",{type:"text",value:C,onChange:a=>D(a.target.value),required:!0,className:"border rounded px-3 py-2 mb-2"}),m&&(0,d.jsx)(g.default,{src:m,alt:"Preview",width:300,height:200,className:"max-w-xs rounded shadow mb-2"}),(0,d.jsx)("div",{className:"flex items-center justify-center w-full",style:{width:"100%",margin:0,padding:0},children:(0,d.jsx)("div",{style:{width:"90vw",maxWidth:1200,aspectRatio:"896/683",position:"relative",background:"#eaeaea",borderRadius:12,overflow:"hidden",margin:0,padding:0},children:(0,d.jsx)(h.A,{xCoor:o,yCoor:q,setXCoor:p,setYCoor:r,xRightCoor:null,yRightCoor:null,aspectRatio:.25})})}),(0,d.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700 disabled:opacity-50",children:s?"Uploading...":"Submit Location"}),u&&(0,d.jsx)("div",{className:"text-green-600 font-semibold",children:u}),w&&(0,d.jsx)("div",{className:"text-red-600 font-semibold",children:w})]})]})}},2704:()=>{},3765:()=>{},4826:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(1658);let e=async a=>[{type:"image/png",sizes:"96x96",url:(0,d.fillMetadataSegment)(".",await a.params,"icon1.png")+"?cc877a186aa25314"}]},5677:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(687);c(3210);var e=c(474),f=c(4568);function g(a){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"w-full h-full bg-gray-50",style:{position:"relative"},children:(0,d.jsx)(f.GT,{children:(0,d.jsx)(f.WZ,{children:(0,d.jsxs)("div",{onClick:function(b){if(a.disabled)return;let c=b.currentTarget,d=b.nativeEvent.offsetX/c.clientWidth,e=b.nativeEvent.offsetY/c.clientHeight;a.setXCoor(d),a.setYCoor(e)},className:"w-full h-full cursor-crosshair relative",children:[(0,d.jsx)(e.default,{className:"MapPicture w-full h-full select-none",src:"/uw campus map.png",alt:"Campus Map",width:896,height:683,draggable:!1,unoptimized:!0,priority:!0,style:{width:"100%",height:"100%",display:"block",pointerEvents:"auto"},onError:a=>{console.error("Campus map image failed to load",a)}}),null!=a.xCoor&&null!=a.yCoor&&null!=a.xRightCoor&&null!=a.yRightCoor&&(0,d.jsx)("div",{style:(()=>{if(null!=a.xCoor&&null!=a.yCoor&&null!=a.xRightCoor&&null!=a.yRightCoor){let b=document.querySelector(".MapPicture");if(!b)return{};let c=b.clientWidth,d=b.clientHeight,e=a.xCoor*c,f=a.yCoor*d,g=a.xRightCoor*c,h=a.yRightCoor*d,i=Math.sqrt(Math.pow(g-e,2)+Math.pow(h-f,2)),j=180/Math.PI*Math.atan2(h-f,g-e);return{position:"absolute",top:`${f}px`,left:`${e}px`,width:`${i}px`,transform:`rotate(${j}deg) translate(0, -50%)`,transformOrigin:"0 0",height:"1.5px",backgroundColor:"black"}}return{}})()}),null!=a.xCoor&&null!=a.yCoor&&(0,d.jsx)("div",{style:{top:`${100*a.yCoor}%`,left:`${100*a.xCoor}%`,position:"absolute",width:"3px",height:"3px",borderRadius:"50%",backgroundColor:"red",pointerEvents:"none",transform:"translate(-50%, -50%)"},className:"z-10"}),null!=a.xRightCoor&&null!=a.yRightCoor&&(0,d.jsx)("div",{style:{top:`${100*a.yRightCoor}%`,left:`${100*a.xRightCoor}%`,position:"absolute",width:"3px",height:"3px",borderRadius:"50%",backgroundColor:"limegreen",pointerEvents:"none",transform:"translate(-50%, -50%)"},className:"z-10"}),a.children]})})})})})}},6055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(1658);let e=async a=>[{type:"image/x-icon",sizes:"48x48",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},6263:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,6133,23)),Promise.resolve().then(c.t.bind(c,6444,23)),Promise.resolve().then(c.t.bind(c,6042,23)),Promise.resolve().then(c.t.bind(c,9477,23)),Promise.resolve().then(c.t.bind(c,9345,23)),Promise.resolve().then(c.t.bind(c,2089,23)),Promise.resolve().then(c.t.bind(c,6577,23)),Promise.resolve().then(c.t.bind(c,1307,23)),Promise.resolve().then(c.t.bind(c,4817,23))},7667:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(1658);let e=async a=>[{type:"image/png",sizes:"180x180",url:(0,d.fillMetadataSegment)(".",await a.params,"apple-icon.png")+"?748a62ccaa12d7a4"}]},8014:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j,metadata:()=>i});var d=c(7413),e=c(260),f=c.n(e),g=c(3298),h=c.n(g);c(2704);let i={title:"UW Guesser",description:"A game for guessing locations at the University of Waterloo"};function j({children:a}){return(0,d.jsxs)("html",{lang:"en",children:[(0,d.jsx)("head",{children:(0,d.jsx)("meta",{name:"apple-mobile-web-app-title",content:"UW Guesser"})}),(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:a})]})}},9407:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,5227,23)),Promise.resolve().then(c.t.bind(c,6346,23)),Promise.resolve().then(c.t.bind(c,7924,23)),Promise.resolve().then(c.t.bind(c,99,23)),Promise.resolve().then(c.t.bind(c,8243,23)),Promise.resolve().then(c.t.bind(c,8827,23)),Promise.resolve().then(c.t.bind(c,2763,23)),Promise.resolve().then(c.t.bind(c,7173,23)),Promise.resolve().then(c.bind(c,5587))},9444:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(1658);let e=async a=>[{type:"image/svg+xml",sizes:"any",url:(0,d.fillMetadataSegment)(".",await a.params,"icon0.svg")+"?627e99074db130b9"}]}};